(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d0a16"],{6996:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution"},[a("basic-container",[a("avue-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption,permission:e.permissionList},on:{"on-load":e.getList,"refresh-change":e.refreshChange,"size-change":e.sizeChange,"current-change":e.currentChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.handleDelete}})],1)],1)},i=[],r=a("5530"),s=a("b775");function l(e){return Object(s["default"])({url:"/admin/client/page",method:"get",params:e})}function c(e){return Object(s["default"])({url:"/admin/client/",method:"post",data:e})}function o(e){return Object(s["default"])({url:"/admin/client/"+e,method:"delete"})}function d(e){return Object(s["default"])({url:"/admin/client",method:"put",data:e})}var u={vaild:[{label:"否",value:"false"},{label:"是",value:"true"}]},p={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",align:"center",searchMenuSpan:6,viewBtn:!0,column:[{width:150,label:"编号",prop:"clientId",align:"center",sortable:!0,editDisabled:!0,rules:[{required:!0,message:"请输入clientId",trigger:"blur"}]},{label:"密钥",prop:"clientSecret",align:"center",sortable:!0,overHidden:!0,width:120,rules:[{required:!0,message:"请输入clientSecret",trigger:"blur"}]},{label:"域",prop:"scope",align:"center",rules:[{required:!0,message:"请输入scope",trigger:"blur"}]},{label:"自动放行",prop:"autoapprove",align:"center",type:"radio",border:!0,dicData:u.vaild,rules:[{required:!0,message:"请选择是否放行",trigger:"blur"}]},{label:"授权模式",prop:"authorizedGrantTypes",type:"checkbox",dicUrl:"/admin/dict/type/grant_types",align:"center",overHidden:!0,row:!0,span:24,rules:[{required:!0,message:"请输入授权模式",trigger:"blur"}]},{label:"令牌时效",type:"number",prop:"accessTokenValidity",align:"center"},{label:"刷新时效",type:"number",prop:"refreshTokenValidity",align:"center"},{label:"回调地址",prop:"webServerRedirectUri",align:"center",hide:!0},{label:"权限",prop:"authorities",align:"center",hide:!0},{label:"扩展信息",prop:"additionalInformation",align:"center",type:"textarea",placeholder:"JSON格式数据",hide:!0,minRows:2,row:!0,span:24}]},h=a("2f62"),g={name:"Client",data:function(){return{tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:p}},created:function(){},mounted:function(){},computed:Object(r["a"])(Object(r["a"])({},Object(h["mapGetters"])(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.sys_client_add,!1),delBtn:this.vaildData(this.permissions.sys_client_del,!1),editBtn:this.vaildData(this.permissions.sys_client_edit,!1)}}}),methods:{getList:function(e,t){var a=this;this.tableLoading=!0,l(Object.assign({current:e.currentPage,size:e.pageSize},t)).then((function(e){a.tableData=e.data.records,a.page.total=e.data.total,a.tableLoading=!1}))},handleDelete:function(e,t){var a=this,n=this;this.$confirm("是否确认删除ID为"+e.clientId,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return o(e.clientId)})).then((function(){n.$message.success("删除成功"),a.refreshChange()}))},handleUpdate:function(e,t,a){var n=this;void 0===e.accessTokenValidity&&(e.accessTokenValidity=43200),void 0===e.refreshTokenValidity&&(e.refreshTokenValidity=2592e3),d(e).then((function(){n.$message.success("修改成功"),n.refreshChange(),a()}))},handleSave:function(e,t){var a=this;void 0===e.accessTokenValidity&&(e.accessTokenValidity=43200),void 0===e.refreshTokenValidity&&(e.refreshTokenValidity=2592e3),c(e).then((function(){a.$message.success("添加成功"),a.refreshChange(),t()}))},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},refreshChange:function(){this.getList(this.page)}}},b=g,f=a("2877"),m=Object(f["a"])(b,n,i,!1,null,null,null);t["default"]=m.exports}}]);