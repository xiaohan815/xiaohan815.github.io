(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d208bfc"],{a5b4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution"},[a("basic-container",[a("avue-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption},on:{"on-load":e.getList,"refresh-change":e.refreshChange,"size-change":e.sizeChange,"current-change":e.currentChange,"search-change":e.handleFilter,"search-reset":e.handleSearchReset},scopedSlots:e._u([{key:"jobLogStatus",fn:function(t){return["0"===t.row.jobLogStatus?a("div",[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.getDicNameJobExecuteStatus(t.row.jobLogStatus)))])],1):a("div",[a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.getDicNameJobExecuteStatus(t.row.jobLogStatus)))])],1)]}}])})],1)],1)},o=[],n=(a("ac6a"),a("5530")),i=a("b775");function s(e){return Object(i["default"])({url:"/job/sys-job-log/page",method:"get",params:e})}var c={border:!0,index:!0,menu:!1,page:!0,indexLabel:"序号",stripe:!0,menuAlign:"right",align:"center",filterBtn:!1,editBtn:!1,delBtn:!1,searchMenuSpan:6,addBtn:!1,column:[{label:"id",prop:"jobLogId",hide:!0},{label:"任务id",prop:"jobId",hide:!0},{label:"任务名称",prop:"jobName",search:!0},{label:"任务组名",prop:"jobGroup",search:!0},{label:"组内顺序",prop:"jobOrder",hide:!0},{label:"类型",prop:"jobType",type:"select",dicUrl:"/admin/dict/type/job_type",width:100},{label:"执行文件",prop:"className",overHidden:!0},{label:"执行方法",prop:"methodName",overHidden:!0,width:120},{label:"执行参数值",prop:"methodParamsValue",width:100,overHidden:!0},{label:"cron表达式",prop:"cronExpression",width:100,overHidden:!0},{label:"状态",prop:"jobLogStatus",search:!0,type:"select",dicUrl:"/admin/dict/type/job_execute_status",slot:!0},{label:"状态描述",prop:"jobMessage"},{label:"执行时间(ms)",prop:"executeTime",width:120},{label:"异常信息",prop:"exceptionInfo",overHidden:!0},{label:"开始时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:160}]},d=a("59fb"),l=a("2f62"),u={name:"JobLog",data:function(){return{queryParams:{},tableData:[],page:{total:0,currentPage:1,pageSize:10},tableLoading:!1,tableOption:c,JobExecuteStatusDicCache:[]}},created:function(){},mounted:function(){this.getDicNameCache("job_execute_status")},computed:Object(n["a"])({},Object(l["mapGetters"])(["permissions"])),methods:{getList:function(e){var t=this;this.tableLoading=!0,s(Object.assign({descs:"create_time",current:e.currentPage,size:e.pageSize},this.queryParams)).then((function(e){t.tableData=e.data.records,t.page.pageSize=e.data.pageSize,t.page.total=e.data.total,t.tableLoading=!1}))},handleSearchReset:function(){this.queryParams={}},handleFilter:function(e,t){this.queryParams=e,this.getList(this.page),t()},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},getDicNameCache:function(e){var t=this;Object(d["i"])(e).then((function(e){var a=e.data.code;if(0===a){var r=e.data;t.JobExecuteStatusDicCache=r}}))},getDicNameJobExecuteStatus:function(e){var t="";return this.JobExecuteStatusDicCache.forEach((function(a){a.value===e&&(t=a.label)})),t}}},p=u,b=a("2877"),h=Object(b["a"])(p,r,o,!1,null,"5d49446a",null);t["default"]=h.exports}}]);