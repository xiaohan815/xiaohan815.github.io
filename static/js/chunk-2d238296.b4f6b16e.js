(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d238296"],{fdce:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution"},[a("basic-container",[a("avue-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,option:e.tableOption},on:{"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"size-change":e.sizeChange,"current-change":e.currentChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel}})],1)],1)},r=[],i=a("5530"),s=a("b775");function o(e){return Object(s["default"])({url:"/pay/order/page",method:"get",params:e})}function c(e){return Object(s["default"])({url:"/pay/order",method:"post",data:e})}function d(e){return Object(s["default"])({url:"/pay/order/"+e,method:"delete"})}function l(e){return Object(s["default"])({url:"/pay/order",method:"put",data:e})}var p={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",align:"center",searchMenuSpan:6,column:[{label:"订单号",prop:"orderId",overHidden:!0,width:150},{label:"渠道ID",prop:"channelId",width:120},{label:"渠道商户",prop:"channelMchId",width:120},{label:"渠道订单",prop:"channelOrderNo",width:150},{label:"商品描述",prop:"body",overHidden:!0},{label:"金额",prop:"amount"},{label:"币种",prop:"currency"},{label:"支付状态",prop:"status",type:"select",search:!0,dicUrl:"/admin/dict/type/order_status"},{label:"客户端IP",prop:"clientIp",width:120},{label:"成功时间",prop:"paySuccTime",width:150},{label:"创建时间",width:150,prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",editDisplay:!1,overHidden:!0,addDisplay:!1}]},h=a("2f62"),u={name:"Paytradeorder",data:function(){return{searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:p}},computed:Object(i["a"])(Object(i["a"])({},Object(h["mapGetters"])(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.generator_paytradeorder_add,!1),delBtn:this.vaildData(this.permissions.generator_paytradeorder_del,!1),editBtn:this.vaildData(this.permissions.generator_paytradeorder_edit,!1)}}}),methods:{getList:function(e,t){var a=this;this.tableLoading=!0,o(Object.assign({descs:"create_time",current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.records,a.page.total=e.data.total,a.tableLoading=!1})).catch((function(){a.tableLoading=!1}))},rowDel:function(e,t){var a=this,n=this;this.$confirm("是否确认删除ID为"+e.orderId,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.orderId)})).then((function(e){n.tableData.splice(t,1),n.$message({showClose:!0,message:"删除成功",type:"success"}),a.getList(a.page)}))},handleUpdate:function(e,t,a,n){var r=this;l(e).then((function(n){r.tableData.splice(t,1,Object.assign({},e)),r.$message({showClose:!0,message:"修改成功",type:"success"}),a(),r.getList(r.page)})).catch((function(){n()}))},handleSave:function(e,t,a){var n=this;c(e).then((function(a){n.tableData.push(Object.assign({},e)),n.$message({showClose:!0,message:"添加成功",type:"success"}),t(),n.getList(n.page)})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.getList(this.page,e),t()},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},refreshChange:function(){this.getList(this.page)}}},g=u,b=a("2877"),m=Object(b["a"])(g,n,r,!1,null,null,null);t["default"]=m.exports}}]);