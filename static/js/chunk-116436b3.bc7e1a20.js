(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-116436b3"],{3678:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return i}));var r={selection:!0,border:!0,index:!0,stripe:!0,menuAlign:"center",align:"center",addBtn:!1,editBtn:!1,delBtn:!1,searchMenuSpan:6,column:[{label:"表名称",prop:"tableName",align:"center"},{label:"表注释",prop:"tableComment",align:"center"},{label:"表编码",prop:"tableCollation",align:"center"},{label:"索引",prop:"engine",align:"center"},{type:"datetime",valueFormat:"timestamp",format:"yyyy-MM-dd hh:mm:ss",label:"创建时间",prop:"createTime",align:"center"}]},a={submitBtn:!1,emptyBtn:!1,column:[{label:"表名称",prop:"tableName",disabled:!0},{label:"包名",prop:"packageName",placeholder:"可为空，加载系统默认配置"},{label:"作者",prop:"author",placeholder:"可为空，加载系统默认配置"},{label:"模块",prop:"moduleName",placeholder:"可为空，加载系统默认配置"},{label:"表前缀",prop:"tablePrefix",placeholder:"可为空，加载系统默认配置"},{label:"注释",prop:"comments",placeholder:"可为空，加载表备注"},{label:"前端风格",prop:"style",type:"radio",slot:!0,border:!0,span:24,dicUrl:"/admin/dict/type/style_type"}]},o={submitText:"生成",column:[{label:"表名称",prop:"tableName",disabled:!0,minRows:2,type:"textarea",row:!0,span:24},{label:"包名",prop:"packageName",placeholder:"可为空，加载系统默认配置"},{label:"作者",prop:"author",placeholder:"可为空，加载系统默认配置"},{label:"模块",prop:"moduleName",placeholder:"可为空，加载系统默认配置"},{label:"注释",prop:"comments",placeholder:"可为空，加载表备注"}]},l={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",align:"center",column:[{label:"主键",prop:"id",hide:!0,addDisplay:!1,editDisplay:!1},{label:"名称",prop:"name",rules:[{required:!0,message:"请输入名称",trigger:"blur"},{max:32,message:"长度在 32 个字符",trigger:"blur"}]},{label:"jdbcUrl",prop:"url",type:"textarea",span:24,row:!0,minRows:2,overHidden:!0,rules:[{required:!0,message:"请输入jdbcUrl",trigger:"blur"}]},{label:"用户名",prop:"username",rules:[{required:!0,message:"请输入用户名",trigger:"blur"},{max:32,message:"长度在 32 个字符",trigger:"blur"}]},{label:"密码",prop:"password",rules:[{required:!0,message:"请输入密码",trigger:"blur"},{max:32,message:"长度在 32 个字符",trigger:"blur"}]},{label:"创建时间",prop:"createDate",addDisplay:!1,editDisplay:!1,overHidden:!0},{label:"更新时间",prop:"updateDate",overHidden:!0,addDisplay:!1,editDisplay:!1}]},i={rowKey:"tableName",border:!0,index:!0,stripe:!0,menuAlign:"center",align:"center",menu:!1,searchMenuSpan:6,column:[{label:"字段名",prop:"columnName",align:"center"},{label:"注释",prop:"comments",align:"center"},{label:"字段类型",prop:"columnType",align:"center"},{label:"JAVA类型",prop:"javaType",align:"center"}]}},"844c":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return g})),n.d(t,"i",(function(){return m}));var r=n("b775");function a(e){return Object(r["default"])({url:"/gen/generator/page",method:"get",params:e})}function o(e){return Object(r["default"])({url:"/gen/dsconf/page",method:"get",params:e})}function l(){return Object(r["default"])({url:"/gen/dsconf/list",method:"get"})}function i(e){return Object(r["default"])({url:"/gen/dsconf/",method:"post",data:e})}function c(e){return Object(r["default"])({url:"/gen/dsconf/"+e,method:"delete"})}function d(e){return Object(r["default"])({url:"/gen/dsconf/",method:"put",data:e})}function u(e){return Object(r["default"])({url:"/gen/generator/preview",method:"get",params:e})}function s(e){return Object(r["default"])({url:"/gen/generator/code",method:"post",data:e,responseType:"arraybuffer"}).then((function(t){var n=new Blob([t],{type:"application/zip"}),r=e.tableName+".zip",a=document.createElement("a");a.href=URL.createObjectURL(n),a.download=r,document.body.appendChild(a),a.click(),window.setTimeout((function(){URL.revokeObjectURL(n),document.body.removeChild(a)}),0)}))}function p(e){return Object(r["default"])({url:"/gen/generator/table",params:e,method:"get"})}function g(e,t){return Object(r["default"])({url:"/gen/form/info",params:{tableName:e,dsName:t},method:"get"})}function m(e,t,n){return Object(r["default"])({url:"/gen/form/",method:"post",data:Object.assign({formInfo:e,tableName:t,dsId:n})})}},d61c:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"execution"},[n("basic-container",[n("avue-crud",{ref:"data-source-settings-crud",attrs:{page:e.dsPage,data:e.tableDsData,option:e.tableDsOption,"before-open":e.handleOpenBefore},on:{"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel,"size-change":e.sizeChange,"current-change":e.currentChange,"refresh-change":e.refreshDsChange,"on-load":e.getDsList},model:{value:e.dsForm,callback:function(t){e.dsForm=t},expression:"dsForm"}})],1)],1)},a=[],o=n("844c"),l=n("3678"),i={name:"CodeGenerator",data:function(){return{dataSourceList:[],tableDsData:[],box:!1,dsPage:{total:0,currentPage:1,pageSize:20},dsForm:{},tableLoading:!1,tableOption:l["e"],tableDsOption:l["d"],formOption:l["b"]}},created:function(){},methods:{rowDel:function(e,t){var n=this;this.$confirm("是否确认删除ID为"+e.id,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.id)})).then((function(){n.$message.success("删除成功"),n.getDsList(n.dsPage)}))},handleOpenBefore:function(e){this.dsForm.password=void 0,e()},handleUpdate:function(e,t,n){var r=this;Object(o["k"])(e).then((function(e){e.data?r.$message.success("修改成功"):r.$message.error("修改失败，数据源不可访问"),n(),r.getDsList(r.dsPage)}))},handleSave:function(e,t){var n=this;Object(o["a"])(e).then((function(e){e.data?n.$message.success("添加成功"):n.$message.error("添加失败，数据源不可访问"),t(),n.getDsList(n.dsPage)}))},getDsList:function(e,t){var n=this;Object(o["c"])(Object.assign({current:e.currentPage,size:e.pageSize},t)).then((function(e){n.tableDsData=e.data.records,n.dsPage.total=e.data.total}))},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},refreshDsChange:function(){this.getDsList(this.dsPage)}}},c=i,d=n("2877"),u=Object(d["a"])(c,r,a,!1,null,"583145f3",null);t["default"]=u.exports}}]);