(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3887"],{"5cbe":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"execution"},[n("basic-container",[n("avue-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption,permission:e.permissionList},on:{"on-load":e.getList,"refresh-change":e.refreshChange,"size-change":e.sizeChange,"current-change":e.currentChange,"row-del":e.handleDel}})],1)],1)},i=[],r=n("5530"),s=n("b775");function o(e){return Object(s["default"])({url:"/admin/token/page",method:"get",params:e})}function c(e){return Object(s["default"])({url:"/admin/token/"+e,method:"delete"})}var l={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",align:"center",viewBtn:!0,addBtn:!1,editBtn:!1,searchMenuSpan:6,column:[{label:"用户ID",prop:"user_id",align:"center"},{label:"用户名",prop:"username",align:"center"},{label:"令牌",prop:"access_token",align:"center",overHidden:!0},{label:"类型",prop:"token_type",align:"center"},{label:"过期时间",prop:"expires_in",align:"center"}]},u=n("2f62"),d={name:"Token",data:function(){return{tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:l}},created:function(){},mounted:function(){},computed:Object(r["a"])(Object(r["a"])({},Object(u["mapGetters"])(["permissions"])),{},{permissionList:function(){return{delBtn:this.vaildData(this.permissions.sys_token_del,!1)}}}),methods:{getList:function(e,t){var n=this;this.tableLoading=!0,o(Object.assign({current:e.currentPage,size:e.pageSize},t)).then((function(e){n.tableData=e.data.records,n.page.total=e.data.total,n.tableLoading=!1}))},handleDel:function(e,t){var n=this;this.$confirm("是否强制"+e.username+"下线?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(e.access_token)})).then((function(){n.$message.success("强制下线成功")}))},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e}}},p=d,g=n("2877"),h=Object(g["a"])(p,a,i,!1,null,null,null);t["default"]=h.exports}}]);