(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47eab4eb"],{8861:function(e,t,_){"use strict";_.r(t);var a=function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"execution"},[_("basic-container",[_("avue-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption},on:{"on-load":e.getList,"size-change":e.sizeChange,"current-change":e.currentChange,"refresh-change":e.refreshChange},scopedSlots:e._u([{key:"menuBtn",fn:function(t){return[e.permissions.act_task_manage?_("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(_){return e.viewPic(t.row,t.index)}}},[e._v("流程图\n        ")]):e._e(),e._v(" "),e.permissions.act_task_manage?_("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(_){return e.audit(t.row,t.index)}}},[e._v("查看详情\n        ")]):e._e(),e._v(" "),e.permissions.act_task_manage?_("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(_){return e.flowCapture(t.row,t.index)}}},[e._v("流程追踪\n        ")]):e._e()]}}])})],1),e._v(" "),_("a",{staticStyle:{display:"none"},attrs:{id:"downloadA",target:"_blank"}})],1)},n=[],i=_("ec87"),r=i["a"],o=_("2877"),c=Object(o["a"])(r,a,n,!1,null,"0889ed5a",null);t["default"]=c.exports},ec87:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_work_unicom_xcloud_front_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),_api_activiti_task__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("71ef"),_const_crud_activiti_task__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("17ab"),vuex__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("2f62");__webpack_exports__["a"]={name:"Task",data:function(){return{tableData:[],taskTableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:_const_crud_activiti_task__WEBPACK_IMPORTED_MODULE_2__["b"],formOption:_const_crud_activiti_task__WEBPACK_IMPORTED_MODULE_2__["a"],taskOption:_const_crud_activiti_task__WEBPACK_IMPORTED_MODULE_2__["c"]}},created:function(){},mounted:function(){},computed:Object(D_work_unicom_xcloud_front_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_3__["mapGetters"])(["permissions"])),methods:{getList:function(e,t){var _=this;this.tableLoading=!0,Object(_api_activiti_task__WEBPACK_IMPORTED_MODULE_1__["d"])(Object.assign({current:e.currentPage,size:e.pageSize},t)).then((function(e){_.tableData=e.data.records,_.page.total=e.data.total,_.tableLoading=!1})).catch((function(){_.tableLoading=!1}))},audit:function audit(row){var task=row,formurl_=row.formKey;console.log(formurl_),formurl_=eval("`"+formurl_+"`"),console.log(formurl_),this.$router.push({path:formurl_,query:{isHis:!0,rand:Math.random()}})},flowCapture:function(e){this.$router.push({name:"FlowCapture",query:{executionId:e.executionId,rand:Math.random()}})},viewPic:function(e){document.getElementById("downloadA").href="/act/processDef/resource/auto/"+e.processInstanceId,document.getElementById("downloadA").click()},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},refreshChange:function(){this.getList(this.page)}}}}}]);