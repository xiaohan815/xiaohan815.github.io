(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4844"],{"3abb":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"execution"},[n("basic-container",[n("avue-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption},on:{"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"size-change":e.sizeChange,"current-change":e.currentChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel},scopedSlots:e._u([{key:"menuBtn",fn:function(t){return[e.permissions.act_leavebill_edit&&0==t.row.state?n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(n){return e.handleSubmit(t.row,t.index)}}},[e._v("提交\n        ")]):e._e(),e._v(" "),e.permissions.act_leavebill_edit?n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(n){return e.handleEdit(t.row,t.index)}}},[e._v("编辑\n        ")]):e._e(),e._v(" "),e.permissions.act_leavebill_del?n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(n){return e.handleDel(t.row,"suspend")}}},[e._v("删除\n        ")]):e._e()]}}])},[n("template",{slot:"menuLeft"},[e.permissions.act_leavebill_add?n("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新 增\n        ")]):e._e()],1)],2)],1)],1)},i=[],r=n("5530"),d=n("b775");function l(e){return Object(d["default"])({url:"/act/leave-bill/page",method:"get",params:e})}function s(e){return Object(d["default"])({url:"/act/leave-bill",method:"post",data:e})}function o(e){return Object(d["default"])({url:"/act/leave-bill/submit/"+e,method:"get"})}function c(e){return Object(d["default"])({url:"/act/leave-bill/"+e,method:"delete"})}function u(e){return Object(d["default"])({url:"/act/leave-bill/",method:"put",data:e})}var p={border:!0,index:!0,stripe:!0,menuAlign:"center",align:"center",menuBtn:!0,editBtn:!1,delBtn:!1,addBtn:!1,searchMenuSpan:6,menuType:"menu",column:[{label:"ID",prop:"leaveId",editDisabled:!0,addDisplay:!1},{label:"申请人",prop:"username",editDisabled:!0,addDisplay:!1},{label:"天数",prop:"days",type:"number"},{label:"请假时间",prop:"leaveTime",type:"datetime",overHidden:!0,format:"yyyy-MM-dd HH:mm",valueFormat:"yyyy-MM-dd hh:mm:ss"},{label:"提交时间",prop:"createTime",type:"datetime",overHidden:!0,format:"yyyy-MM-dd HH:mm",editDisabled:!0,addDisplay:!1,hide:!0},{label:"状态",prop:"state",type:"select",dicUrl:"/admin/dict/type/leave_status",search:!0,addDisplay:!1},{hide:!0,label:"备注",prop:"content",type:"ueditor",component:"ueditor",span:24,options:{action:"/admin/sys-file/upload",props:{res:"data",url:"url"}}}]},h=n("2f62"),m={comments:{},name:"LeaveBill",data:function(){return{searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:p}},created:function(){},mounted:function(){},computed:Object(r["a"])({},Object(h["mapGetters"])(["permissions"])),methods:{getList:function(e,t){var n=this;this.tableLoading=!0,l(Object.assign({descs:"create_time",current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){n.tableData=e.data.records,n.page.total=e.data.total,n.tableLoading=!1})).catch((function(){n.tableLoading=!1}))},handleAdd:function(){this.$refs.crud.rowAdd()},handleEdit:function(e,t){this.$refs.crud.rowEdit(e,t)},handleDel:function(e,t){this.$refs.crud.rowDel(e,t)},rowDel:function(e,t){var n=this;this.$confirm("是否确认删除ID为"+e.leaveId,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(e.leaveId)})).then((function(){n.$message.success("删除成功")}))},handleSubmit:function(e,t){var n=this;this.$confirm("是否确认提交ID为"+e.leaveId,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return o(e.leaveId)})).then((function(){n.$message.success("提交成功"),n.getList(n.page)}))},handleUpdate:function(e,t,n){var a=this;u(e).then((function(){a.$message.success("修改成功"),n(),a.getList(a.page)}))},handleSave:function(e,t){var n=this;s(e).then((function(){n.$message.success("添加成功"),t(),n.getList(n.page)}))},searchChange:function(e,t){this.searchForm=e,this.getList(this.page,e),t()},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},refreshChange:function(){this.getList(this.page)}}},f=m,g=n("2877"),b=Object(g["a"])(f,a,i,!1,null,null,null);t["default"]=b.exports}}]);