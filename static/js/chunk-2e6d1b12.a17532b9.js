(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e6d1b12"],{2883:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return i}));var a={border:!0,card:!0,index:!0,indexLabel:"序号",stripe:!0,menu:!0,menuAlign:"center",filterBtn:!1,menuWidth:300,align:"center",viewBtn:!1,editBtn:!1,delBtn:!1,addBtn:!1,searchMenuSpan:6,dialogWidth:"85%",labelWidth:130,dialogHeight:"78%",column:[{label:"jobId",prop:"jobId",hide:!0,addDisplay:!1,editDisplay:!1,rules:[{required:!0,message:"请输入任务类型",trigger:"blur"}]},{label:"任务名称",prop:"jobName",search:!0,placeholder:"任务名称",rules:[{required:!0,message:"请输入任务名称",trigger:"blur"}],editDisabled:!0},{label:"任务组名",prop:"jobGroup",search:!0,rules:[{required:!0,message:"请输入任务组名",trigger:"blur"}],editDisabled:!0},{label:"任务状态",prop:"jobStatus",type:"select",dicUrl:"/admin/dict/type/job_status",addDisplay:!1,search:!0,slot:!0},{label:"执行状态",prop:"jobExecuteStatus",type:"select",dicUrl:"/admin/dict/type/job_execute_status",addDisplay:!1,search:!0,slot:!0},{label:"创建者",prop:"createBy",hide:!0,addDisplay:!1,editDisplay:!1},{label:"创建时间",prop:"createTime",type:"datetime",hide:!0,format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:120,addDisplay:!1,editDisplay:!1},{label:"更新者",prop:"updateBy",hide:!0,addDisplay:!1,editDisplay:!1},{label:"更新时间",prop:"updateTime",type:"datetime",hide:!0,format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:160,addDisplay:!1,editDisplay:!1},{label:"首次执行时间",prop:"startTime",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:160,addDisplay:!1,editDisabled:!0},{label:"上次执行时间",prop:"previousTime",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:160,addDisplay:!1,editDisabled:!0},{label:"下次执行时间",prop:"nextTime",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:160,addDisplay:!1,editDisabled:!0},{label:"组内顺序",prop:"jobOrder",hide:!0,addDisplay:!1,editDisplay:!1,type:"silder",step:1,min:1,max:9,showStops:!0},{label:"类型",prop:"jobType",type:"select",dicUrl:"/admin/dict/type/job_type",width:100,rules:[{required:!0,message:"请输入任务类型",trigger:"blur"}]},{label:"执行路径",prop:"executePath",overHidden:!0},{label:"执行文件",prop:"className",overHidden:!0},{label:"执行方法",prop:"methodName",overHidden:!0,width:120},{label:"执行参数值",prop:"methodParamsValue",width:100,overHidden:!0},{label:"cron表达式",prop:"cronExpression",width:100,formslot:!0,rules:[{required:!0,max:200,message:"请输入cron表达式",trigger:"change"}]},{label:"错失执行策略",prop:"misfirePolicy",type:"select",dicUrl:"/admin/dict/type/misfire_policy",width:120,rules:[{required:!0,message:"请输入任务错失执行策略",trigger:"blur"}]},{label:"租户",prop:"tenantId",hide:!0,addDisplay:!1,editDisplay:!1},{label:"备注信息",prop:"remark",type:"textarea",span:20,overHidden:!0,rules:[{max:500,message:"备注信息不得超过500",trigger:"blur"}]}]},i={border:!0,index:!1,menu:!1,page:!0,indexLabel:"序号",stripe:!0,filterBtn:!1,editBtn:!1,delBtn:!1,addBtn:!1,searchMenuSpan:6,columnBtn:!1,column:[{label:"id",prop:"jobLogId",hide:!0},{label:"任务id",prop:"jobId",hide:!0},{label:"任务名称",prop:"jobName"},{label:"任务组名",prop:"jobGroup"},{label:"状态",prop:"jobLogStatus",type:"select",dicUrl:"/admin/dict/type/job_execute_status"},{label:"组内顺序",prop:"jobOrder",hide:!0},{label:"类型",prop:"jobType",type:"select",dicUrl:"/admin/dict/type/job_type",width:100},{label:"执行路径",prop:"executePath",overHidden:!0},{label:"执行文件",prop:"className",overHidden:!0},{label:"执行方法",prop:"methodName",overHidden:!0,width:120},{label:"执行参数值",prop:"methodParamsValue",width:100,overHidden:!0},{label:"cron表达式",prop:"cronExpression",width:100,overHidden:!0},{label:"状态描述",prop:"jobMessage"},{label:"执行时间(ms)",prop:"executeTime",width:120},{label:"异常信息",prop:"exceptionInfo",overHidden:!0},{label:"开始时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:160}]}},"3de3":function(e,t,o){"use strict";o.d(t,"c",(function(){return i})),o.d(t,"d",(function(){return r})),o.d(t,"j",(function(){return d})),o.d(t,"l",(function(){return l})),o.d(t,"g",(function(){return s})),o.d(t,"k",(function(){return n})),o.d(t,"h",(function(){return p})),o.d(t,"i",(function(){return u})),o.d(t,"a",(function(){return b})),o.d(t,"b",(function(){return c})),o.d(t,"f",(function(){return m})),o.d(t,"e",(function(){return g}));var a=o("b775");function i(e){return Object(a["default"])({url:"/job/sys-job/page",method:"get",params:e})}function r(e){return Object(a["default"])({url:"/job/sys-job/job-log",method:"get",params:e})}function d(){return Object(a["default"])({url:"/job/sys-job/shutdown-jobs",method:"post"})}function l(){return Object(a["default"])({url:"/job/sys-job/start-jobs",method:"post"})}function s(){return Object(a["default"])({url:"/job/sys-job/refresh-jobs",method:"post"})}function n(e){return Object(a["default"])({url:"/job/sys-job/start-job/"+e,method:"post"})}function p(e){return Object(a["default"])({url:"/job/sys-job/run-job/"+e,method:"post"})}function u(e){return Object(a["default"])({url:"/job/sys-job/shutdown-job/"+e,method:"post"})}function b(e){return Object(a["default"])({url:"/job/sys-job",method:"post",data:e})}function c(e){return Object(a["default"])({url:"/job/sys-job/"+e,method:"delete"})}function m(e){return Object(a["default"])({url:"/job/sys-job",method:"put",data:e})}function g(e){return Object(a["default"])({url:"/job/sys-job/is-valid-task-name",method:"get",params:e})}},"7368d":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"jobLog"},[o("basic-container",[o("el-dialog",{attrs:{visible:e.dialogFormVisible,title:"执行日志",width:"90%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeJobLogDialog}},[o("avue-crud",{ref:"crudLog",attrs:{page:e.pageLog,data:e.tableLogData,option:e.tableLogOption,"table-loading":e.tableLogLoading},on:{"on-load":e.getJobLogList,"size-change":e.sizeChange,"current-change":e.currentChange,"refresh-change":e.getJobLogList}})],1)],1)],1)},i=[],r=o("5530"),d=o("3de3"),l=o("2883"),s=o("2f62"),n={name:"jobLog",data:function(){return{tableLogData:[],dialogFormVisible:!1,jobId:"",pageLog:{total:0,currentPage:1,pageSize:10},tableLogLoading:!1,tableLogOption:l["a"]}},computed:Object(r["a"])({},Object(s["mapGetters"])(["permissions"])),mounted:function(){},methods:{init:function(){this.dialogFormVisible=!0,this.getJobLogList(this.pageLog)},getJobLog:function(e){this.dialogFormVisible=!0,this.tableLogLoading=!0,this.jobId=e.jobId,this.getJobLogList(this.pageLog)},getJobLogList:function(e){var t=this;Object(d["d"])(Object.assign({descs:"create_time",current:e.currentPage,size:e.pageSize},{jobId:this.jobId})).then((function(e){t.tableLogData=e.data.records,t.pageLog.total=e.data.total,t.pageLog.pageSize=e.data.pageSize,t.tableLogLoading=!1}))},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},closeJobLogDialog:function(){this.jobId="",this.pageLog.total=0,this.pageLog.currentPage=1,this.pageLog.pageSize=10}}},p=n,u=o("2877"),b=Object(u["a"])(p,a,i,!1,null,null,null);t["default"]=b.exports}}]);